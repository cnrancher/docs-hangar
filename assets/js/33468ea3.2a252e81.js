"use strict";(self.webpackChunkdocs_hangar=self.webpackChunkdocs_hangar||[]).push([[5764],{2272:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var a=n(5893),s=n(1151);const r={title:"generate-list Command"},i=void 0,o={id:"advanced/generate-list",title:"generate-list Command",description:"QuickStart",source:"@site/versioned_docs/version-v1.6/13-advanced/06-generate-list.md",sourceDirName:"13-advanced",slug:"/advanced/generate-list",permalink:"/docs/v1.6/advanced/generate-list",draft:!1,unlisted:!1,editUrl:"https://github.com/cnrancher/docs-hangar/edit/main/versioned_docs/version-v1.6/13-advanced/06-generate-list.md",tags:[],version:"v1.6",lastUpdatedAt:1712570751,formattedLastUpdatedAt:"Apr 8, 2024",sidebarPosition:6,frontMatter:{title:"generate-list Command"},sidebar:"docs",previous:{title:"convert-list Command",permalink:"/docs/v1.6/advanced/convert-list"},next:{title:"Development",permalink:"/docs/v1.6/dev/"}},c={},d=[{value:"QuickStart",id:"quickstart",level:2},{value:"Usage",id:"usage",level:2},{value:"Customize KDM data file and Chart repositories",id:"customize-kdm-data-file-and-chart-repositories",level:3}];function l(e){const t={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"quickstart",children:"QuickStart"}),"\n",(0,a.jsx)(t.p,{children:"According to the Rancher version, get the latest KDM data, and clone chart repos to local to generate a image-list used by Rancher:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sh",children:'hangar generate-list -rancher="v2.7.0"\n'})}),"\n",(0,a.jsx)(t.p,{children:"The image-list generated by this tool only includes images in the KDM data and Chart repositories that matching the Rancher version."}),"\n",(0,a.jsxs)(t.p,{children:["The generated image-list has some differences from ",(0,a.jsx)(t.code,{children:"rancher-images.txt"})," since the logic of checking the version constraint of chart images in this tool is different from Rancher generate image list functions."]}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-txt",children:"Usage:\n  hangar generate-list [flags]\n\nFlags:\n      --chart strings           cloned chart repo path (URL is not supported)\n      --dev                     switch to dev branch/URL of charts & KDM data\n  -h, --help                    help for generate-list\n      --kdm string              KDM file path or URL\n  -o, --output string           output generated image list file (default \"[RANCHER_VERSION]-images.txt\")\n      --output-linux string     generate linux image list\n      --output-source string    generate image list with image source\n      --output-windows string   generate windows image list\n      --rancher string          rancher version (semver with 'v' prefix) (use '-ent' suffix to distinguish with RPM GC) (required)\n      --registry string         customize the registry URL of generated image list\n      --system-chart strings    cloned system chart repo path (URL is not supported)\n\nGlobal Flags:\n      --debug        enable debug output\n      --tls-verify   enable https tls verify (default true)\n"})}),"\n",(0,a.jsx)(t.h3,{id:"customize-kdm-data-file-and-chart-repositories",children:"Customize KDM data file and Chart repositories"}),"\n",(0,a.jsxs)(t.p,{children:["When executing this tool, if only the ",(0,a.jsx)(t.code,{children:"--rancher"})," parameter is specified, hangar will obtain KDM data and\nclone chart repos to generate image list automatically."]}),"\n",(0,a.jsxs)(t.p,{children:["In addition, you can customize the KDM data.json file and Chart repository directory when generating the image-list by using ",(0,a.jsx)(t.code,{children:"--chart"}),", ",(0,a.jsx)(t.code,{children:"--system-chart"}),", ",(0,a.jsx)(t.code,{children:"--kdm"})," options."]}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["You can use multiple ",(0,a.jsx)(t.code,{children:"--chart"})," and ",(0,a.jsx)(t.code,{children:"--system-chart"})," parameters to specify multiple chart repos."]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Example:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sh",children:'# Download KDM data.json and clone chart repository into local directory firstly.\nhangar generate-list \\\n    --rancher="v2.7.0" \\\n    --kdm ./data.json \\\n    --chart ./charts-1 \\\n    --chart ./charts-2 \\\n    --system-chart ./system-charts-1 \\\n    --system-chart ./system-charts-2\n'})})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>i});var a=n(7294);const s={},r=a.createContext(s);function i(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);